package HW1.Problem3;

import java.util.ArrayList;
import java.util.List;

public class Main {
    private static final String SAMPLE_CSV = """
        ProductName,Processor,RAM,Storage,Integrated,Operating System,Price
        Laptop Model A,Intel i5,8,256,,Windows 10,800
        Laptop Model B,Intel i7,16,512,NVIDIA GTX,Windows 10,1500
        Smartphone Model X,Qualcomm Snapdragon,6,128,N/A,Android,999.09
        Smartphone Model Y,Apple A14 Bionic,4,64,N/A,iOS,1099
        SmartphoneTR,Apple A14 Bionic,15,32,NVIDIA GTX,iOS,2099.99
        """;

    public static void main(String[] args) {
        Laptop customLaptop = new LaptopBuilder()
                .name("My Dev Rig")
                .processor("Intel i7-12700H")
                .ram("16GB")
                .storage("1TB SSD")
                .graphics("RTX 4060")
                .os("Windows 11 Pro")
                .build();

        Smartphone customPhone = new SmartphoneBuilder()
                .name("My Daily Driver")
                .screen("6.7\" AMOLED 120Hz")
                .processor("Octa 3.0GHz")
                .camera("64MP + 12MP")
                .battery("5000mAh")
                .storage("256GB")
                .os("Android 14")
                .build();

        CsvTable table = CsvTable.parse(SAMPLE_CSV);
        SupplierToProductAdapter adapter = new SupplierToProductAdapter();
        List<Product> defaults = new ArrayList<>();
        for (String[] row : table.rows) defaults.add(adapter.adapt(table, row));

        System.out.println("=== Customized Products (Builder; fixed $800) ===");
        System.out.println(customLaptop.pretty());
        System.out.println(customPhone.pretty());

        System.out.println("=== Default Products from Supplier CSV (Adapter) ===");
        for (Product p : defaults) System.out.println(p.pretty());

        Product firstCsvLaptop = defaults.stream()
                .filter(p -> "Laptop".equalsIgnoreCase(p.getCategory()))
                .findFirst().orElse(null);

        if (firstCsvLaptop != null) {
            System.out.println("=== Comparison: Custom Laptop vs CSV Laptop ===");
            System.out.println("-- Custom --");
            System.out.println(customLaptop.pretty());
            System.out.println("-- CSV --");
            System.out.println(firstCsvLaptop.pretty());
        }
    }
}






